"use strict";(self.webpackChunkmarvel_app=self.webpackChunkmarvel_app||[]).push([[434],{328:(a,t,c)=>{c.d(t,{A:()=>l});var n,e=c(528);const r=c(464).Ay.img(n||(n=(0,e.A)(["\n  display: block; \n  margin: auto auto;\n  width: 150px;\n  height: 150px;\n"]))),o=c.p+"static/media/error.42292aa12b6bc303ce99.gif";var s=c(579);const l=function(){return(0,s.jsx)(r,{src:o,alt:"error"})}},508:(a,t,c)=>{c.r(t),c.d(t,{default:()=>x});var n,e,r,o,s=c(528),l=c(464),i=c(475);const u=l.Ay.div(n||(n=(0,s.A)(["\n  margin-top: 50px;\n  display: ",";\n  grid-template-columns: 293px 550px auto;\n  column-gap: 50px;\n  align-items: start;\n\n  img {\n    width: 293px;\n    height: 450px;\n    object-fit: cover center;\n  }\n"])),(a=>a.$loading?"block":"grid")),d=l.Ay.h2(e||(e=(0,s.A)(["\n  font-weight: bold;\n  font-size: 22px;\n  line-height: 29px;\n"]))),h=l.Ay.p(r||(r=(0,s.A)(["\n  font-size: 18px;\n  line-height: 24px;\n  margin-top: 25px;\n"]))),p=(0,l.Ay)(i.N_)(o||(o=(0,s.A)(["\n  justify-self: end;\n  font-weight: bold;\n  font-size: 18px;\n  line-height: 24px;\n"])));var f=c(216),m=c(757),b=c(43),g=c(26),y=c(328),k=c(579);function v(a){let{char:t}=a;const{name:c,description:n,thumbnail:e}=t;return(0,k.jsxs)(k.Fragment,{children:[(0,k.jsx)("img",{src:e,alt:c}),(0,k.jsxs)("div",{children:[(0,k.jsx)(d,{children:c}),(0,k.jsx)(h,{children:n||"No description..."})]}),(0,k.jsx)(p,{to:"/",children:"Back to main"})]})}const x=function(){const{characterId:a}=(0,f.g)(),[t,c]=(0,b.useState)({}),{loading:n,error:e,getCharacter:r,clearError:o}=(0,m.A)();(0,b.useEffect)((()=>{s()}),[a]);const s=()=>{o(),r(a).then((a=>{(a=>{c(a)})(a)}))};return(0,k.jsx)(u,{$loading:n||e,children:n?(0,k.jsx)(g.A,{}):e?(0,k.jsx)(y.A,{}):(0,k.jsx)(v,{char:t})})}},757:(a,t,c)=>{c.d(t,{A:()=>e});var n=c(43);const e=()=>{const{loading:a,request:t,error:c,clearError:e}=(()=>{const[a,t]=(0,n.useState)(!1),[c,e]=(0,n.useState)(null);return{loading:a,request:(0,n.useCallback)((async function(a,c){let n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:"GET",r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:null;t(!0);try{let e;!0===c&&(e={"Content-Type":"application/json"});const o=await fetch(a,{method:n,body:r,headersOBJ:e});if(!o.ok)throw new Error("Could not fetch ".concat(a,", status: ").concat(o.status));const s=await o.json();return t(!1),s}catch(o){throw t(!1),e(o.message),o}}),[]),error:c,clearError:(0,n.useCallback)((()=>e(null)),[])}})(),r={base:"https://gateway.marvel.com/v1/public/",fallback:"https://marvel-server-zeta.vercel.app/",key:"apikey=".concat("f5ab898c54beda10f3effa54557c7073"),fallbackKey:"apikey=".concat("d4eecb0c66dedbfae4eab45d312fc1df"),baseOffset:0},o=a=>{var t,c,n,e,r;return a?{id:a.id,name:a.name,description:a.description,thumbnail:"".concat(a.thumbnail.path,".").concat(a.thumbnail.extension),homepage:null===(t=a.urls)||void 0===t||null===(c=t[0])||void 0===c?void 0:c.url,wiki:null===(n=a.urls)||void 0===n||null===(e=n[1])||void 0===e?void 0:e.url,comics:null===(r=a.comics)||void 0===r?void 0:r.items}:null},s=a=>({id:a.id,title:a.title,description:a.description,thumbnail:a.thumbnail.path+"."+a.thumbnail.extension,language:a.textObjects.languages,price:a.prices[0].price,pages:a.pageCount});return{loading:a,error:c,getAllCharacters:async function(){let a=arguments.length>0&&void 0!==arguments[0]?arguments[0]:r.baseOffset,c=arguments.length>1&&void 0!==arguments[1]?arguments[1]:9;try{return(await t("".concat(r.base,"characters?limit=").concat(c,"&offset=").concat(a,"&").concat(r.key),!0)).data.results.map(o)}catch(n){e();return(await t("".concat(r.fallback,"characters?limit=").concat(c,"&").concat(r.fallbackKey))).data.results.map(o)}},getCharacter:async a=>{try{const c=await t("".concat(r.base,"characters/").concat(a,"?").concat(r.key),!0);return o(c.data.results[0])}catch(c){e();const n=await t("".concat(r.fallback,"characters/").concat(a,"?").concat(r.fallbackKey));return o(n.data.results[0])}},getCharacterByName:async a=>{try{const c=await t("".concat(r.base,"characters?name=").concat(a,"&").concat(r.key),!0);return o(c.data.results[0])}catch(c){e();const n=await t("".concat(r.fallback,"characters?name=").concat(a,"&").concat(r.fallbackKey));return o(n.data.results[0])}},getRandomCharacter:async()=>{try{const a=Math.floor(400*Math.random())+1011e3,c=await t("".concat(r.base,"characters/").concat(a,"?").concat(r.key),!0);return o(c.data.results[0])}catch(a){e();const c=Math.floor(20*Math.random())+1,n=await t("".concat(r.fallback,"characters/").concat(c,"?").concat(r.fallbackKey));return o(n.data.results[0])}},getAllComics:async function(){let a=arguments.length>0&&void 0!==arguments[0]?arguments[0]:r.baseOffset,c=arguments.length>1&&void 0!==arguments[1]?arguments[1]:8;try{return(await t("".concat(r.base,"comics/?limit=").concat(c,"&offset=").concat(a,"&").concat(r.key),!0)).data.results.map(s)}catch(n){e();return(await t("".concat(r.fallback,"comics/?limit=").concat(c,"&").concat(r.fallbackKey))).data.results.map(s)}},getComics:async a=>{try{const c=await t("".concat(r.base,"comics/").concat(a,"?").concat(r.key),!0);return s(c.data.results[0])}catch(c){e();const n=await t("".concat(r.fallback,"comics/").concat(a,"?").concat(r.fallbackKey));return s(n.data.results[0])}},clearError:e}}}}]);
//# sourceMappingURL=434.53c1b470.chunk.js.map