"use strict";(self.webpackChunkmarvel_app=self.webpackChunkmarvel_app||[]).push([[743],{328:(t,a,c)=>{c.d(a,{A:()=>i});var e,n=c(528);const r=c(464).Ay.img(e||(e=(0,n.A)(["\n  display: block; \n  margin: auto auto;\n  width: 150px;\n  height: 150px;\n"]))),s=c.p+"static/media/error.42292aa12b6bc303ce99.gif";var o=c(579);const i=function(){return(0,o.jsx)(r,{src:s,alt:"error"})}},635:(t,a,c)=>{c.r(a),c.d(a,{default:()=>j});var e,n,r,s,o,i=c(528),l=c(464),u=c(475);const h=l.Ay.div(e||(e=(0,i.A)(["\n  margin-top: 50px;\n  display: ",";\n  grid-template-columns: 293px 550px auto;\n  column-gap: 50px;\n  align-items: start;\n\n  img {\n    width: 293px;\n    height: 450px;\n    object-fit: cover;\n  }\n"])),(t=>t.$loading?"block":"grid")),d=l.Ay.h2(n||(n=(0,i.A)(["\n  font-weight: bold;\n  font-size: 22px;\n  line-height: 29px;\n"]))),p=l.Ay.p(r||(r=(0,i.A)(["\n  font-size: 18px;\n  line-height: 24px;\n  margin-top: 25px;\n"]))),f=l.Ay.p(s||(s=(0,i.A)(["\n  font-weight: bold;\n  font-size: 24px;\n  line-height: 32px;\n  color: #9f0013;\n  margin-top: 25px;\n"]))),g=(0,l.Ay)(u.N_)(o||(o=(0,i.A)(["\n  justify-self: end;\n  font-weight: bold;\n  font-size: 18px;\n  line-height: 24px;\n"])));var m=c(216),b=c(757),y=c(43),x=c(26),k=c(328),w=c(579);function v(t){let{comics:a}=t;const{title:c,description:e,thumbnail:n,price:r,language:s,pages:o}=a;return(0,w.jsxs)(w.Fragment,{children:[(0,w.jsx)("img",{src:n,alt:c}),(0,w.jsxs)("div",{children:[(0,w.jsx)(d,{children:c}),(0,w.jsx)(p,{children:e||"No description..."}),(0,w.jsxs)(p,{children:[o," pages"]}),(0,w.jsxs)(p,{children:["Language: ",s||"en-us"]}),(0,w.jsxs)(f,{children:[r,"$"]})]}),(0,w.jsx)(g,{to:"/comics",children:"Back to all"})]})}const j=function(){const{comicsId:t}=(0,m.g)(),[a,c]=(0,y.useState)({}),{loading:e,error:n,getComics:r,clearError:s}=(0,b.A)();(0,y.useEffect)((()=>{o()}),[t]);const o=()=>{s(),r(t).then((t=>{(t=>{c(t)})(t)}))};return(0,w.jsx)(h,{$loading:e||n,children:e?(0,w.jsx)(x.A,{}):n?(0,w.jsx)(k.A,{}):(0,w.jsx)(v,{comics:a})})}},757:(t,a,c)=>{c.d(a,{A:()=>n});var e=c(43);const n=()=>{const{loading:t,request:a,error:c,clearError:n}=(()=>{const[t,a]=(0,e.useState)(!1),[c,n]=(0,e.useState)(null);return{loading:t,request:(0,e.useCallback)((async function(t,c){let e=arguments.length>2&&void 0!==arguments[2]?arguments[2]:"GET",r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:null;a(!0);try{let n;!0===c&&(n={"Content-Type":"application/json"});const s=await fetch(t,{method:e,body:r,headersOBJ:n});if(!s.ok)throw new Error("Could not fetch ".concat(t,", status: ").concat(s.status));const o=await s.json();return a(!1),o}catch(s){throw a(!1),n(s.message),s}}),[]),error:c,clearError:(0,e.useCallback)((()=>n(null)),[])}})(),[r,s]=(0,e.useState)(!1),o={base:"https://gateway.marvel.com/v1/public/",fallback:"https://marvel-server-zeta.vercel.app/",key:"apikey=".concat("f5ab898c54beda10f3effa54557c7073"),fallbackKey:"apikey=".concat("d4eecb0c66dedbfae4eab45d312fc1df"),baseOffset:0},i=t=>({id:t.id,name:t.name,description:t.description,thumbnail:t.thumbnail.path+"."+t.thumbnail.extension,homepage:t.urls[0].url,wiki:t.urls[1].url,comics:t.comics.items}),l=t=>({id:t.id,title:t.title,description:t.description,thumbnail:t.thumbnail.path+"."+t.thumbnail.extension,language:t.textObjects.languages,price:t.prices[0].price,pages:t.pageCount});return{loading:t,error:c,getAllCharacters:async function(){let t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:o.baseOffset,c=arguments.length>1&&void 0!==arguments[1]?arguments[1]:9;try{const e=await a("".concat(o.base,"characters?limit=").concat(c,"&offset=").concat(t,"&").concat(o.key),!0);return s(!1),e.data.results.map(i)}catch(e){n(),s(!0);return(await a("".concat(o.fallback,"characters?limit=").concat(c,"&").concat(o.fallbackKey))).data.results.map(i)}},getCharacter:async t=>{try{const c=await a("".concat(o.base,"characters/").concat(t,"?").concat(o.key),!0);return s(!1),i(c.data.results[0])}catch(c){n(),s(!0);const e=await a("".concat(o.fallback,"characters/").concat(t,"?").concat(o.fallbackKey));return i(e.data.results[0])}},getRandomCharacter:async()=>{try{const t=Math.floor(400*Math.random())+1011e3,c=await a("".concat(o.base,"characters/").concat(t,"?").concat(o.key),!0);return s(!1),i(c.data.results[0])}catch(t){n(),s(!0);const c=Math.floor(20*Math.random())+1,e=await a("".concat(o.fallback,"characters/").concat(c,"?").concat(o.fallbackKey));return i(e.data.results[0])}},getAllComics:async function(){let t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:o.baseOffset,c=arguments.length>1&&void 0!==arguments[1]?arguments[1]:8;try{const e=await a("".concat(o.base,"comics/?limit=").concat(c,"&offset=").concat(t,"&").concat(o.key),!0);return s(!1),e.data.results.map(l)}catch(e){n(),s(!0);return(await a("".concat(o.fallback,"comics/?limit=").concat(c,"&").concat(o.fallbackKey))).data.results.map(l)}},getComics:async t=>{try{const c=await a("".concat(o.base,"comics/").concat(t,"?").concat(o.key),!0);return s(!1),l(c.data.results[0])}catch(c){n(),s(!0);const e=await a("".concat(o.fallback,"comics/").concat(t,"?").concat(o.fallbackKey));return l(e.data.results[0])}},clearError:n,isFallback:r}}}}]);
//# sourceMappingURL=743.0c40aced.chunk.js.map