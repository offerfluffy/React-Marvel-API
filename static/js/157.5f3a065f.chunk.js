"use strict";(self.webpackChunkmarvel_app=self.webpackChunkmarvel_app||[]).push([[157],{328:(n,e,t)=>{t.d(e,{A:()=>s});var a,r=t(528);const i=t(464).Ay.img(a||(a=(0,r.A)(["\n  display: block; \n  margin: auto auto;\n  width: 150px;\n  height: 150px;\n"]))),c=t.p+"static/media/error.42292aa12b6bc303ce99.gif";var o=t(579);const s=function(){return(0,o.jsx)(i,{src:c,alt:"error"})}},423:(n,e,t)=>{t.d(e,{$:()=>s,X:()=>l});var a,r,i=t(528),c=t(464);const o=n=>"secondary"===n?{bg:"#5c5c5c",border:"#5c5c5c"}:{bg:"#9f0013",border:"#9f0013"},s=c.Ay.a(a||(a=(0,i.A)(["\n  min-width: 101px;\n  color: #fff;\n  text-align: center;\n  text-transform: uppercase;\n  font-size: 14px;\n  transition: 0.3s transform;\n  border: none;\n  background-color: transparent;\n  cursor: pointer;\n  display: inline-block;\n  ",'\n\n  &:hover {\n    transform: translateY(-5px);\n  }\n\n  &::before,\n  &::after {\n    content: "";\n    display: block;\n    height: 10px;\n    transition: none;\n  }\n\n  &::before {\n    margin-left: 10px;\n    background-color: ',";\n  }\n\n  &::after {\n    margin-right: 10px;\n    background-color: ",";\n  }\n\n  .inner {\n    position: relative;\n    background-color: ",';\n    line-height: 18px;\n    padding: 0 18px;\n    transition: none;\n\n    &::before,\n    &::after {\n      content: "";\n      position: absolute;\n      border-color: '," transparent;\n      border-style: solid;\n      border-width: 0 0 10px 10px;\n      display: block;\n      transition: none;\n    }\n\n    &::before {\n      top: -10px;\n      left: 0;\n    }\n\n    &::after {\n      bottom: -10px;\n      right: 0;\n      transform: rotate(180deg);\n    }\n  }\n"])),(n=>n.disabled?"\n    pointer-events: none;\n    filter: grayscale(0.5);":null),(n=>{let{$type:e}=n;return o(e).bg}),(n=>{let{$type:e}=n;return o(e).bg}),(n=>{let{$type:e}=n;return o(e).bg}),(n=>{let{$type:e}=n;return o(e).border})),l=(0,c.Ay)(s)(r||(r=(0,i.A)(["\ndisplay: block;\n  width: 170px;\n  margin: 45px auto 0 auto;\n"])))},757:(n,e,t)=>{t.d(e,{A:()=>r});var a=t(43);const r=()=>{const{loading:n,request:e,error:t,clearError:r}=(()=>{const[n,e]=(0,a.useState)(!1),[t,r]=(0,a.useState)(null);return{loading:n,request:(0,a.useCallback)((async function(n,t){let a=arguments.length>2&&void 0!==arguments[2]?arguments[2]:"GET",i=arguments.length>3&&void 0!==arguments[3]?arguments[3]:null;e(!0);try{let r;!0===t&&(r={"Content-Type":"application/json"});const c=await fetch(n,{method:a,body:i,headersOBJ:r});if(!c.ok)throw new Error("Could not fetch ".concat(n,", status: ").concat(c.status));const o=await c.json();return e(!1),o}catch(c){throw e(!1),r(c.message),c}}),[]),error:t,clearError:(0,a.useCallback)((()=>r(null)),[])}})(),[i,c]=(0,a.useState)(!1),o={base:"https://gateway.marvel.com/v1/public/",fallback:"https://marvel-server-zeta.vercel.app/",key:"apikey=".concat("f5ab898c54beda10f3effa54557c7073"),fallbackKey:"apikey=".concat("d4eecb0c66dedbfae4eab45d312fc1df"),baseOffset:0},s=n=>{var e,t,a,r,i;return n?{id:n.id,name:n.name,description:n.description,thumbnail:"".concat(n.thumbnail.path,".").concat(n.thumbnail.extension),homepage:null===(e=n.urls)||void 0===e||null===(t=e[0])||void 0===t?void 0:t.url,wiki:null===(a=n.urls)||void 0===a||null===(r=a[1])||void 0===r?void 0:r.url,comics:null===(i=n.comics)||void 0===i?void 0:i.items}:null},l=n=>({id:n.id,title:n.title,description:n.description,thumbnail:n.thumbnail.path+"."+n.thumbnail.extension,language:n.textObjects.languages,price:n.prices[0].price,pages:n.pageCount});return{loading:n,error:t,getAllCharacters:async function(){let n=arguments.length>0&&void 0!==arguments[0]?arguments[0]:o.baseOffset,t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:9;try{const a=await e("".concat(o.base,"characters?limit=").concat(t,"&offset=").concat(n,"&").concat(o.key),!0);return c(!1),a.data.results.map(s)}catch(a){r();const n=await e("".concat(o.fallback,"characters?limit=").concat(t,"&").concat(o.fallbackKey));return c(!0),n.data.results.map(s)}},getCharacter:async n=>{try{const t=await e("".concat(o.base,"characters/").concat(n,"?").concat(o.key),!0);return s(t.data.results[0])}catch(t){r();const a=await e("".concat(o.fallback,"characters/").concat(n,"?").concat(o.fallbackKey));return s(a.data.results[0])}},getCharacterByName:async n=>{try{const t=await e("".concat(o.base,"characters?name=").concat(n,"&").concat(o.key),!0);return s(t.data.results[0])}catch(t){r();const a=await e("".concat(o.fallback,"characters?name=").concat(n,"&").concat(o.fallbackKey));return s(a.data.results[0])}},getRandomCharacter:async()=>{try{const n=Math.floor(400*Math.random())+1011e3,t=await e("".concat(o.base,"characters/").concat(n,"?").concat(o.key),!0);return s(t.data.results[0])}catch(n){r();const t=Math.floor(20*Math.random())+1,a=await e("".concat(o.fallback,"characters/").concat(t,"?").concat(o.fallbackKey));return s(a.data.results[0])}},getAllComics:async function(){let n=arguments.length>0&&void 0!==arguments[0]?arguments[0]:o.baseOffset,t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:8;try{return(await e("".concat(o.base,"comics/?limit=").concat(t,"&offset=").concat(n,"&").concat(o.key),!0)).data.results.map(l)}catch(a){r();return(await e("".concat(o.fallback,"comics/?limit=").concat(t,"&").concat(o.fallbackKey))).data.results.map(l)}},getComics:async n=>{try{const t=await e("".concat(o.base,"comics/").concat(n,"?").concat(o.key),!0);return l(t.data.results[0])}catch(t){r();const a=await e("".concat(o.fallback,"comics/").concat(n,"?").concat(o.fallbackKey));return l(a.data.results[0])}},clearError:r,isFallback:i}}},944:(n,e,t)=>{t.r(e),t.d(e,{default:()=>Dn});var a,r,i,c,o,s,l,d,p,h,x=t(43),u=t(804),m=t(485),g=t(528),f=t(464);const b=f.Ay.div(a||(a=(0,g.A)(["\n  display: grid;\n  grid-template-columns: repeat(2, 50%);\n  box-shadow: 5px 5px 20px rgba(0, 0, 0, 0.25);\n"]))),y=f.Ay.div(r||(r=(0,g.A)(["\n  a:nth-child(1) {\n    margin-right: 30px;\n  }\n"]))),j=f.Ay.div(i||(i=(0,g.A)(["\n  padding: 40px 35px;\n  display: grid;\n  grid-template-columns: 180px auto;\n  column-gap: 30px;\n"]))),v=f.Ay.div(c||(c=(0,g.A)(["\n  padding: 40px 35px;\n  background-color: #232222;\n  position: relative;\n"]))),A=f.Ay.img(o||(o=(0,g.A)(["\n  width: 180px;\n  height: 180px;\n  object-fit: ",";\n"])),(n=>n.$contain?"contain":"cover")),k=f.Ay.img(s||(s=(0,g.A)(["\n  position: absolute;\n  bottom: 14px;\n  right: -37px;\n"]))),w=f.Ay.div(l||(l=(0,g.A)(["\n  display: grid;\n  grid-template-rows: minmax(29px, auto) 90px 38px;\n  row-gap: 10px;\n  padding-top: 3px;\n"]))),C=f.Ay.p(d||(d=(0,g.A)(["\n  font-weight: bold;\n  font-size: 22px;\n  line-height: 29px;\n  text-transform: uppercase;\n"]))),$=f.Ay.p(p||(p=(0,g.A)(["\n  font-size: 14px;\n  line-height: 18px;\n"]))),S=f.Ay.p(h||(h=(0,g.A)(["\n  font-weight: bold;\n  font-size: 24px;\n  line-height: 32px;\n  letter-spacing: -0.045em;\n  color: #ffffff;\n\n  &:nth-child(2) {\n    margin: 20px 0;\n  }\n"])));var N=t(423);const E=t.p+"static/media/mjolnir.61f31e1809f12183a524.png";var z=t(26),I=t(328),_=t(757),K=t(579);function O(n){let{char:e,animation:t}=n;const{name:a,description:r,thumbnail:i,homepage:c,wiki:o}=e||{},s=i&&"http://i.annihil.us/u/prod/marvel/i/mg/b/40/image_not_available.jpg"===i;return(0,K.jsxs)(j,{children:[(0,K.jsx)(A,{src:i||"",alt:"Random character",$contain:s}),(0,K.jsxs)(w,{children:[(0,K.jsx)(C,{children:a||"Unknown"}),(0,K.jsx)($,{children:r?function(n){let e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:250;return n&&n.length>e?n.slice(0,e)+"...":n}(r):"No description..."}),(0,K.jsxs)(y,{children:[(0,K.jsx)(N.$,{href:c||"#",$type:"main",children:(0,K.jsx)("div",{className:"inner",children:"homepage"})}),(0,K.jsx)(N.$,{href:o||"#",$type:"secondary",children:(0,K.jsx)("div",{className:"inner",children:"Wiki"})})]})]})]})}const R=()=>{const[n,e]=(0,x.useState)(null),[t,a]=(0,x.useState)(0),r=(0,x.useRef)(null),{loading:i,error:c,getRandomCharacter:o,clearError:s}=(0,_.A)();(0,x.useEffect)((()=>{d()}),[]);const l=n=>{e(n),a((n=>n+1))},d=()=>{s(),o().then(l)};return(0,K.jsxs)(b,{children:[(0,K.jsx)(u.A,{mode:"out-in",children:(0,K.jsx)(m.A,{timeout:200,classNames:"char",nodeRef:r,children:(0,K.jsx)("div",{ref:r,children:i?(0,K.jsx)(z.A,{}):c?(0,K.jsx)(I.A,{}):(0,K.jsx)(O,{char:n,animation:{transitionKey:t,loading:i,error:c,nodeRef:r}})})},i?"loading":c?"error":t)}),(0,K.jsxs)(v,{children:[(0,K.jsxs)(S,{children:["Random character for today!",(0,K.jsx)("br",{}),"Do you want to get to know him better?"]}),(0,K.jsx)(S,{children:"Or choose another one"}),(0,K.jsx)(N.$,{onClick:d,href:"#",$type:"main",children:(0,K.jsx)("div",{className:"inner",children:"try it"})}),(0,K.jsx)(k,{src:E,alt:"mjolnir"})]})]})};var T,F,L,M,q,D,V;const B=f.Ay.div(T||(T=(0,g.A)(["\n  padding: 25px;\n  box-shadow: 0px 0px 20px rgba(0, 0, 0, 0.25);\n  background-color: #fff;\n"]))),Y=f.Ay.div(F||(F=(0,g.A)(["\n  display: grid;\n  grid-template-columns: 150px auto;\n  column-gap: 25px;\n\n  img {\n    width: 150px;\n    height: 150px;\n    object-fit: ",";\n  }\n"])),(n=>n.$contain?"contain":"cover")),G=f.Ay.div(L||(L=(0,g.A)(["\n  margin-top: 35px;\n\n  a:nth-child(2) {\n    margin-top: 10px;\n  }\n"]))),P=f.Ay.p(M||(M=(0,g.A)(["\n  margin-top: 15px;\n  font-size: 14px;\n  line-height: 18px;\n"]))),U=f.Ay.div(q||(q=(0,g.A)(["\n  font-weight: bold;\n  font-size: 18px;\n  line-height: 24px;\n  margin-top: 10px;\n"]))),W=f.Ay.ul(D||(D=(0,g.A)(["\n  position: relative;\n  margin-top: 10px;\n"]))),X=f.Ay.li(V||(V=(0,g.A)(["\n  width: 100%;\n  padding: 0px 10px;\n  line-height: 25px;\n  box-shadow: 0px 4px 4px rgba(0, 0, 0, 0.25);\n  margin-top: 10px;\n"])));var J,Q,Z,H,nn,en,tn;const an=(0,f.i7)(J||(J=(0,g.A)(["\n  0% {\n    opacity: 1;\n  }\n  50% {\n    opacity: 0.4;\n  }\n  100% {\n    opacity: 1;\n  }\n"]))),rn=f.I4.div(Q||(Q=(0,g.A)(["\n  animation: "," 1.5s ease-in-out 0.5s infinite;\n"])),an),cn=f.I4.div(Z||(Z=(0,g.A)(["\n  display: grid;\n  grid-template-columns: 40px auto;\n  column-gap: 10px;\n  align-items: center;\n"]))),on=(0,f.I4)(rn)(H||(H=(0,g.A)(["\n  width: 40px;\n  height: 40px;\n  background-color: #c4c4c4;\n  border-radius: 100%;\n"]))),sn=(0,f.I4)(rn)(nn||(nn=(0,g.A)(["\n  width: 100%;\n  height: 16px;\n  background-color: #c4c4c4;\n"]))),ln=(0,f.I4)(rn)(en||(en=(0,g.A)(["\n  height: 35px;\n  width: 100%;\n  background-color: #c4c4c4;\n  margin-top: 15px;\n"]))),dn=f.I4.h2(tn||(tn=(0,g.A)(["\n  font-size: 20px;\n  text-align: center;\n  margin-bottom: 15px;\n"])));const pn=function(){return(0,K.jsxs)("div",{children:[(0,K.jsx)(dn,{children:"Please select a character"}),(0,K.jsxs)(cn,{children:[(0,K.jsx)(on,{}),(0,K.jsx)(sn,{})]}),(0,K.jsx)(ln,{}),(0,K.jsx)(ln,{}),(0,K.jsx)(ln,{})]})};function hn(n){let{char:{thumbnail:e,name:t,homepage:a,wiki:r,description:i},items:c}=n;const o="http://i.annihil.us/u/prod/marvel/i/mg/b/40/image_not_available.jpg"===e;return(0,K.jsxs)(K.Fragment,{children:[(0,K.jsxs)(Y,{$contain:o,children:[(0,K.jsx)("img",{src:e,alt:t}),(0,K.jsxs)("div",{children:[(0,K.jsx)(C,{children:t}),(0,K.jsxs)(G,{children:[(0,K.jsx)(N.$,{href:a,$type:"main",children:(0,K.jsx)("div",{className:"inner",children:"homepage"})}),(0,K.jsx)(N.$,{href:r,$type:"secondary",children:(0,K.jsx)("div",{className:"inner",children:"Wiki"})})]})]})]}),(0,K.jsx)(P,{children:i||"No description..."}),(0,K.jsx)(U,{children:"Comics:"}),(0,K.jsx)(W,{children:c&&c.length>0?c:"No comics..."})]})}const xn=n=>{let{selectedId:e}=n;const[t,a]=(0,x.useState)({}),{loading:r,error:i,getCharacter:c,clearError:o}=(0,_.A)();(0,x.useEffect)((()=>{e&&s(e)}),[e]);const s=n=>{o(),c(n).then((n=>{(n=>{a(n)})(n)}))},{comics:l}=t,d=null===l||void 0===l?void 0:l.slice(0,10).map(((n,e)=>(0,K.jsx)(X,{children:"string"===typeof n?n:n.name},e)));return(0,K.jsx)(B,{children:!d||r?(0,K.jsx)(pn,{}):i?(0,K.jsx)(I.A,{}):(0,K.jsx)(hn,{char:t,items:d})})};var un,mn,gn;const fn=f.Ay.ul(un||(un=(0,g.A)(["\n  display: grid;\n  grid-template-columns: repeat(3, 200px);\n  column-gap: 25px;\n  row-gap: 30px;\n"]))),bn=f.Ay.li(mn||(mn=(0,g.A)(["\n  width: 200px;\n  height: 318px;\n  background-color: #232222;\n  box-shadow: 5px 5px 10px rgba(0, 0, 0, 0.25);\n  padding: 15px;\n  cursor: pointer;\n  transition: 0.3s transform;\n\n  img {\n    width: 200px;\n    height: 200px;\n    object-fit: ",";\n    transform: translate(-15px, -15px);\n  }\n\n  &.selected {\n    box-shadow: 0 5px 20px #9f0013;\n    transform: translateY(-8px);\n  }\n"])),(n=>n.$fill?"fill":"cover")),yn=(0,f.Ay)(C)(gn||(gn=(0,g.A)(["\n  color: #fff;\n"]))),jn=n=>{const{loading:e,error:t,getAllCharacters:a,isFallback:r}=(0,_.A)(),[i,c]=(0,x.useState)([]),[o,s]=(0,x.useState)(!1),[l,d]=(0,x.useState)(291),[p,h]=(0,x.useState)(!1),{onSelectChar:u}=n,m=(0,x.useRef)([]);(0,x.useEffect)((()=>{f(l,!0)}),[]);const g=n=>{let e=!1;n.length<9&&(e=!0),c((e=>[...e,...n])),s(!1),d((n=>n+9)),h(e)},f=(n,e)=>{s(!e),a(n).then(g)},b=i.map(((n,e)=>{let{id:t,name:a,thumbnail:r}=n;const i="http://i.annihil.us/u/prod/marvel/i/mg/b/40/image_not_available.jpg"===r;return(0,K.jsxs)(bn,{ref:n=>m.current[e]=n,onClick:()=>{var n;u(t),m.current.forEach((n=>null===n||void 0===n?void 0:n.classList.remove("selected"))),null===(n=m.current[e])||void 0===n||n.classList.add("selected")},$fill:i,children:[(0,K.jsx)("img",{src:r,alt:a}),(0,K.jsx)(yn,{children:a})]},t)}));return(0,K.jsxs)("div",{children:[e&&!o?(0,K.jsx)(z.A,{}):t?(0,K.jsx)(I.A,{}):(0,K.jsx)(fn,{children:b}),p||r?null:(0,K.jsx)(N.X,{onClick:()=>f(l),disabled:o,$type:"main",children:(0,K.jsx)("div",{className:"inner",children:"Load More"})})]})};class vn extends x.Component{constructor(){super(...arguments),this.state={error:!1}}componentDidCatch(n,e){console.log(n,e),this.setState({error:!0})}render(){return this.state.error?(0,K.jsx)(I.A,{}):this.props.children}}const An=vn;var kn=t(568);const wn=t.p+"static/media/vision.067d4ae1936d64a577ce.png";var Cn,$n,Sn,Nn,En,zn;const In=f.Ay.div(Cn||(Cn=(0,g.A)(["\n  margin-top: 20px;\n  padding: 25px;\n  box-shadow: 0px 0px 20px rgba(0, 0, 0, 0.25);\n  background-color: #fff;\n"]))),_n=f.Ay.div($n||($n=(0,g.A)(["\n  font-weight: bold;\n  font-size: 18px;\n  line-height: 24px;\n"]))),Kn=f.Ay.div(Sn||(Sn=(0,g.A)(["\n  margin-top: 10px;\n  display: flex;\n  justify-content: space-between;\n  align-items: center;\n"]))),On=(0,f.Ay)(_n)(Nn||(Nn=(0,g.A)(["\n  color: #03710e;\n"]))),Rn=f.Ay.input(En||(En=(0,g.A)(["\n  padding: 15px 20px;\n  width: 225px;\n  border: none;\n  box-shadow: 0px 0px 20px rgba(0, 0, 0, 0.25);\n  background-color: #fff;\n\n  &:focus {\n    outline: none;\n  }\n"]))),Tn=f.Ay.div(zn||(zn=(0,g.A)(["\n  margin-top: 20px;\n  font-weight: bold;\n  font-size: 18px;\n  line-height: 24px;\n  margin-bottom: 10px;\n  color: #9f0013;\n"])));var Fn=t(899),Ln=t(892),Mn=t(475);const qn=()=>{const{loading:n,error:e,getCharacterByName:t,clearError:a}=(0,_.A)(),[r,i]=(0,x.useState)(null),[c,o]=(0,x.useState)(!1);return(0,K.jsxs)(In,{children:[(0,K.jsx)(_n,{children:"Or find a character by name:"}),(0,K.jsxs)("div",{children:[(0,K.jsx)(Ln.l1,{initialValues:{name:""},validationSchema:Fn.Ik({name:Fn.Yj().min(1,"Too Short!").max(20,"Too Long!").required("This field is required")}),onSubmit:n=>{o(!0),a();const e=n.name.trim().toLowerCase().split(" ").map((n=>n.charAt(0).toUpperCase()+n.slice(1))).join(" ");t(e).then((n=>i(n)))},children:(0,K.jsxs)(Ln.lV,{children:[(0,K.jsxs)(Kn,{children:[(0,K.jsx)(Ln.D0,{as:Rn,type:"text",placeholder:"Enter name",name:"name"}),(0,K.jsx)(N.$,{as:"button",$type:"main",type:"submit",children:(0,K.jsx)("div",{className:"inner",children:"FIND"})})]}),(0,K.jsx)(Ln.Kw,{component:Tn,name:"name"})]})}),!c||r||n?r&&!e?(0,K.jsxs)(Kn,{children:[(0,K.jsxs)(On,{children:["There is! Visit"," ",(0,K.jsx)(Mn.N_,{to:"/character/".concat(r.id),children:r.name})," page?"]}),(0,K.jsx)(N.$,{as:Mn.N_,to:"/character/".concat(r.id),$type:"secondary",children:(0,K.jsx)("div",{className:"inner",children:"TO PAGE"})})]}):null:(0,K.jsx)(Tn,{children:"The character was not found. Check the name and try again"})]})]})};const Dn=function(){const[n,e]=(0,x.useState)(null);return(0,K.jsxs)(K.Fragment,{children:[(0,K.jsx)(R,{}),(0,K.jsxs)(kn.Q5,{children:[(0,K.jsx)(jn,{onSelectChar:n=>{e(n)}}),(0,K.jsxs)(kn.V9,{children:[(0,K.jsx)(An,{children:(0,K.jsx)(xn,{selectedId:n})}),(0,K.jsx)(An,{children:(0,K.jsx)(qn,{})})]})]}),(0,K.jsx)(kn.NZ,{src:wn})]})}}}]);
//# sourceMappingURL=157.5f3a065f.chunk.js.map