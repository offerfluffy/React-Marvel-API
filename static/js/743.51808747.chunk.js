"use strict";(self.webpackChunkmarvel_app=self.webpackChunkmarvel_app||[]).push([[743],{328:(t,a,c)=>{c.d(a,{A:()=>l});var n,e=c(528);const r=c(464).Ay.img(n||(n=(0,e.A)(["\n  display: block; \n  margin: auto auto;\n  width: 150px;\n  height: 150px;\n"]))),o=c.p+"static/media/error.42292aa12b6bc303ce99.gif";var s=c(579);const l=function(){return(0,s.jsx)(r,{src:o,alt:"error"})}},635:(t,a,c)=>{c.r(a),c.d(a,{default:()=>j});var n,e,r,o,s,l=c(528),i=c(464),u=c(475);const d=i.Ay.div(n||(n=(0,l.A)(["\n  margin-top: 50px;\n  display: ",";\n  grid-template-columns: 293px 550px auto;\n  column-gap: 50px;\n  align-items: start;\n\n  img {\n    width: 293px;\n    height: 450px;\n    object-fit: cover;\n  }\n"])),(t=>t.$loading?"block":"grid")),h=i.Ay.h2(e||(e=(0,l.A)(["\n  font-weight: bold;\n  font-size: 22px;\n  line-height: 29px;\n"]))),p=i.Ay.p(r||(r=(0,l.A)(["\n  font-size: 18px;\n  line-height: 24px;\n  margin-top: 25px;\n"]))),f=i.Ay.p(o||(o=(0,l.A)(["\n  font-weight: bold;\n  font-size: 24px;\n  line-height: 32px;\n  color: #9f0013;\n  margin-top: 25px;\n"]))),m=(0,i.Ay)(u.N_)(s||(s=(0,l.A)(["\n  justify-self: end;\n  font-weight: bold;\n  font-size: 18px;\n  line-height: 24px;\n"])));var g=c(216),b=c(757),y=c(43),k=c(26),x=c(328),v=c(579);function w(t){let{comics:a}=t;const{title:c,description:n,thumbnail:e,price:r,language:o,pages:s}=a;return(0,v.jsxs)(v.Fragment,{children:[(0,v.jsx)("img",{src:e,alt:c}),(0,v.jsxs)("div",{children:[(0,v.jsx)(h,{children:c}),(0,v.jsx)(p,{children:n||"No description..."}),(0,v.jsxs)(p,{children:[s," pages"]}),(0,v.jsxs)(p,{children:["Language: ",o||"en-us"]}),(0,v.jsxs)(f,{children:[r,"$"]})]}),(0,v.jsx)(m,{to:"/comics",children:"Back to all"})]})}const j=function(){const{comicsId:t}=(0,g.g)(),[a,c]=(0,y.useState)({}),{loading:n,error:e,getComics:r,clearError:o}=(0,b.A)();(0,y.useEffect)((()=>{s()}),[t]);const s=()=>{o(),r(t).then((t=>{(t=>{c(t)})(t)}))};return(0,v.jsx)(d,{$loading:n||e,children:n?(0,v.jsx)(k.A,{}):e?(0,v.jsx)(x.A,{}):(0,v.jsx)(w,{comics:a})})}},757:(t,a,c)=>{c.d(a,{A:()=>e});var n=c(43);const e=()=>{const{loading:t,request:a,error:c,clearError:e}=(()=>{const[t,a]=(0,n.useState)(!1),[c,e]=(0,n.useState)(null);return{loading:t,request:(0,n.useCallback)((async function(t,c){let n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:"GET",r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:null;a(!0);try{let e;!0===c&&(e={"Content-Type":"application/json"});const o=await fetch(t,{method:n,body:r,headersOBJ:e});if(!o.ok)throw new Error("Could not fetch ".concat(t,", status: ").concat(o.status));const s=await o.json();return a(!1),s}catch(o){throw a(!1),e(o.message),o}}),[]),error:c,clearError:(0,n.useCallback)((()=>e(null)),[])}})(),[r,o]=(0,n.useState)(!1),s={base:"https://gateway.marvel.com/v1/public/",fallback:"https://marvel-server-zeta.vercel.app/",key:"apikey=".concat("f5ab898c54beda10f3effa54557c7073"),fallbackKey:"apikey=".concat("d4eecb0c66dedbfae4eab45d312fc1df"),baseOffset:0},l=t=>{var a,c,n,e,r;return t?{id:t.id,name:t.name,description:t.description,thumbnail:"".concat(t.thumbnail.path,".").concat(t.thumbnail.extension),homepage:null===(a=t.urls)||void 0===a||null===(c=a[0])||void 0===c?void 0:c.url,wiki:null===(n=t.urls)||void 0===n||null===(e=n[1])||void 0===e?void 0:e.url,comics:null===(r=t.comics)||void 0===r?void 0:r.items}:null},i=t=>({id:t.id,title:t.title,description:t.description,thumbnail:t.thumbnail.path+"."+t.thumbnail.extension,language:t.textObjects.languages,price:t.prices[0].price,pages:t.pageCount});return{loading:t,error:c,getAllCharacters:async function(){let t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:s.baseOffset,c=arguments.length>1&&void 0!==arguments[1]?arguments[1]:9;try{const n=await a("".concat(s.base,"characters?limit=").concat(c,"&offset=").concat(t,"&").concat(s.key),!0);return o(!1),n.data.results.map(l)}catch(n){e();const t=await a("".concat(s.fallback,"characters?limit=").concat(c,"&").concat(s.fallbackKey));return o(!0),t.data.results.map(l)}},getCharacter:async t=>{try{const c=await a("".concat(s.base,"characters/").concat(t,"?").concat(s.key),!0);return l(c.data.results[0])}catch(c){e();const n=await a("".concat(s.fallback,"characters/").concat(t,"?").concat(s.fallbackKey));return l(n.data.results[0])}},getCharacterByName:async t=>{try{const c=await a("".concat(s.base,"characters?name=").concat(t,"&").concat(s.key),!0);return l(c.data.results[0])}catch(c){e();const n=await a("".concat(s.fallback,"characters?name=").concat(t,"&").concat(s.fallbackKey));return l(n.data.results[0])}},getRandomCharacter:async()=>{try{const t=Math.floor(400*Math.random())+1011e3,c=await a("".concat(s.base,"characters/").concat(t,"?").concat(s.key),!0);return l(c.data.results[0])}catch(t){e();const c=Math.floor(20*Math.random())+1,n=await a("".concat(s.fallback,"characters/").concat(c,"?").concat(s.fallbackKey));return l(n.data.results[0])}},getAllComics:async function(){let t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:s.baseOffset,c=arguments.length>1&&void 0!==arguments[1]?arguments[1]:8;try{return(await a("".concat(s.base,"comics/?limit=").concat(c,"&offset=").concat(t,"&").concat(s.key),!0)).data.results.map(i)}catch(n){e();return(await a("".concat(s.fallback,"comics/?limit=").concat(c,"&").concat(s.fallbackKey))).data.results.map(i)}},getComics:async t=>{try{const c=await a("".concat(s.base,"comics/").concat(t,"?").concat(s.key),!0);return i(c.data.results[0])}catch(c){e();const n=await a("".concat(s.fallback,"comics/").concat(t,"?").concat(s.fallbackKey));return i(n.data.results[0])}},clearError:e,isFallback:r}}}}]);
//# sourceMappingURL=743.51808747.chunk.js.map