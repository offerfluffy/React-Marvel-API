"use strict";(self.webpackChunkmarvel_app=self.webpackChunkmarvel_app||[]).push([[434],{328:(t,a,c)=>{c.d(a,{A:()=>l});var n,e=c(528);const r=c(464).Ay.img(n||(n=(0,e.A)(["\n  display: block; \n  margin: auto auto;\n  width: 150px;\n  height: 150px;\n"]))),o=c.p+"static/media/error.42292aa12b6bc303ce99.gif";var s=c(579);const l=function(){return(0,s.jsx)(r,{src:o,alt:"error"})}},508:(t,a,c)=>{c.r(a),c.d(a,{default:()=>x});var n,e,r,o,s=c(528),l=c(464),i=c(475);const u=l.Ay.div(n||(n=(0,s.A)(["\n  margin-top: 50px;\n  display: ",";\n  grid-template-columns: 293px 550px auto;\n  column-gap: 50px;\n  align-items: start;\n\n  img {\n    width: 293px;\n    height: 450px;\n    object-fit: cover center;\n  }\n"])),(t=>t.$loading?"block":"grid")),d=l.Ay.h2(e||(e=(0,s.A)(["\n  font-weight: bold;\n  font-size: 22px;\n  line-height: 29px;\n"]))),h=l.Ay.p(r||(r=(0,s.A)(["\n  font-size: 18px;\n  line-height: 24px;\n  margin-top: 25px;\n"]))),p=(0,l.Ay)(i.N_)(o||(o=(0,s.A)(["\n  justify-self: end;\n  font-weight: bold;\n  font-size: 18px;\n  line-height: 24px;\n"])));var f=c(216),m=c(757),b=c(43),g=c(26),y=c(328),k=c(579);function v(t){let{char:a}=t;const{name:c,description:n,thumbnail:e}=a;return(0,k.jsxs)(k.Fragment,{children:[(0,k.jsx)("img",{src:e,alt:c}),(0,k.jsxs)("div",{children:[(0,k.jsx)(d,{children:c}),(0,k.jsx)(h,{children:n||"No description..."})]}),(0,k.jsx)(p,{to:"/",children:"Back to main"})]})}const x=function(){const{characterId:t}=(0,f.g)(),[a,c]=(0,b.useState)({}),{loading:n,error:e,getCharacter:r,clearError:o}=(0,m.A)();(0,b.useEffect)((()=>{s()}),[t]);const s=()=>{o(),r(t).then((t=>{(t=>{c(t)})(t)}))};return(0,k.jsx)(u,{$loading:n||e,children:n?(0,k.jsx)(g.A,{}):e?(0,k.jsx)(y.A,{}):(0,k.jsx)(v,{char:a})})}},757:(t,a,c)=>{c.d(a,{A:()=>e});var n=c(43);const e=()=>{const{loading:t,request:a,error:c,clearError:e}=(()=>{const[t,a]=(0,n.useState)(!1),[c,e]=(0,n.useState)(null);return{loading:t,request:(0,n.useCallback)((async function(t,c){let n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:"GET",r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:null;a(!0);try{let e;!0===c&&(e={"Content-Type":"application/json"});const o=await fetch(t,{method:n,body:r,headersOBJ:e});if(!o.ok)throw new Error("Could not fetch ".concat(t,", status: ").concat(o.status));const s=await o.json();return a(!1),s}catch(o){throw a(!1),e(o.message),o}}),[]),error:c,clearError:(0,n.useCallback)((()=>e(null)),[])}})(),[r,o]=(0,n.useState)(!1),s={base:"https://gateway.marvel.com/v1/public/",fallback:"https://marvel-server-zeta.vercel.app/",key:"apikey=".concat("f5ab898c54beda10f3effa54557c7073"),fallbackKey:"apikey=".concat("d4eecb0c66dedbfae4eab45d312fc1df"),baseOffset:0},l=t=>{var a,c,n,e,r;return t?{id:t.id,name:t.name,description:t.description,thumbnail:"".concat(t.thumbnail.path,".").concat(t.thumbnail.extension),homepage:null===(a=t.urls)||void 0===a||null===(c=a[0])||void 0===c?void 0:c.url,wiki:null===(n=t.urls)||void 0===n||null===(e=n[1])||void 0===e?void 0:e.url,comics:null===(r=t.comics)||void 0===r?void 0:r.items}:null},i=t=>t?{id:t.id,title:t.title,description:t.description,thumbnail:t.thumbnail.path+"."+t.thumbnail.extension,language:t.textObjects.languages,price:t.prices[0].price,pages:t.pageCount}:null;return{loading:t,error:c,getAllCharacters:async function(){let t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:s.baseOffset,c=arguments.length>1&&void 0!==arguments[1]?arguments[1]:9;try{const n=await a("".concat(s.base,"characters?limit=").concat(c,"&offset=").concat(t,"&").concat(s.key),!0);return o(!1),n.data.results.map(l)}catch(n){e();const t=await a("".concat(s.fallback,"characters?limit=").concat(c,"&").concat(s.fallbackKey));return o(!0),t.data.results.map(l)}},getCharacter:async t=>{try{const c=await a("".concat(s.base,"characters/").concat(t,"?").concat(s.key),!0);return l(c.data.results[0])}catch(c){e();const n=await a("".concat(s.fallback,"characters/").concat(t,"?").concat(s.fallbackKey));return l(n.data.results[0])}},getCharacterByName:async t=>{try{const c=await a("".concat(s.base,"characters?name=").concat(t,"&").concat(s.key),!0);return l(c.data.results[0])}catch(c){e();const n=await a("".concat(s.fallback,"characters?name=").concat(t,"&").concat(s.fallbackKey));return l(n.data.results[0])}},getRandomCharacter:async()=>{try{const t=Math.floor(400*Math.random())+1011e3,c=await a("".concat(s.base,"characters/").concat(t,"?").concat(s.key),!0);return l(c.data.results[0])}catch(t){e();const c=Math.floor(20*Math.random())+1,n=await a("".concat(s.fallback,"characters/").concat(c,"?").concat(s.fallbackKey));return l(n.data.results[0])}},getAllComics:async function(){let t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:s.baseOffset,c=arguments.length>1&&void 0!==arguments[1]?arguments[1]:8;try{const n=await a("".concat(s.base,"comics/?limit=").concat(c,"&offset=").concat(t,"&").concat(s.key),!0);return o(!1),n.data.results.map(i)}catch(n){e();const t=await a("".concat(s.fallback,"comics/?limit=").concat(c,"&").concat(s.fallbackKey));return o(!0),t.data.results.map(i)}},getComics:async t=>{try{const c=await a("".concat(s.base,"comics/").concat(t,"?").concat(s.key),!0);return i(c.data.results[0])}catch(c){e();const n=await a("".concat(s.fallback,"comics/").concat(t,"?").concat(s.fallbackKey));return i(n.data.results[0])}},clearError:e,isFallback:r}}}}]);
//# sourceMappingURL=434.87f7136f.chunk.js.map